<% layout("layout/boilerplate") %>
   <div class=" row">
    <div class ="col-8 offset-2">
    <h3> Edit Listing Here</h3>
    <form method ="POST"
     action = "/listings/<%=listing._id%>?_method=PUT"
      class="needs-validation" 
      novalidate
      enctype="multipart/form-data">

    <div class="mb-3 mt-3">
         <label for="title" class="form-label">Title</label>
        <input name="listing[title]" 
        value ="<%= listing.title %>"
         type="text"
         class="form-control"
          required/>
           <div class="invalid-feedback">Title is required.</div>
          </div>

    <div class="mb-3">
         <label for="description" class="form-label">Description</label>
       <textarea
    name="listing[description]"
    class="form-control"
    required>
    <%= listing.description %></textarea>
  <div class="invalid-feedback">Please enter a description.</div>
      </div>
  
      <div class="mb-3">
        <img src="<%= listing.image.url ? listing.image.url : listing.image %>"
         alt="Current listing image" 
         class="img-fluid">
      </div>

     <div class="mb-3">
        <label for="image" class="form-label">Upload New Image</label>
     <input 
       name="listing[image]" 
       type="file" 
       class="form-control"
       />

      <div class="invalid-feedback">Image link is required.</div>
      </div>

    <div class="row">
      <div class="mb-3 col-md-4" >
        <label for="price" class="form-label">Price</label>
      <input name="listing[price]" 
      value ="<%= listing.price %>"
        type="number"
        class="form-control"
         required/>
         <div class="invalid-feedback">Please enter a price.</div>
         </div>
   
     
       <div class="mb-3 col-md-8">
        <label for="country" class="form-label">Country</label>
       <input name="listing[country]"
        value ="<%= listing.country %>" 
         type="text"
         class="form-control"
          required>
     <div class="invalid-feedback" >Please enter a country.
          </div>
           </div>
       

       <div class="mb-3">
        <label for="location" class="form-label">Location</label>
       <input name="listing[location]"
        value ="<%= listing.location %>" 
        type="text"
        class="form-control"
        required />
         <div class="invalid-feedback">Location is required.</div>
        </div>
       
       <button class="btn btn-dark edit-btn mt-3 mb-3" > EDIT</button>
    </form>
</div>
   </div>

